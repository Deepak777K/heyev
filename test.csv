Test ID,Title,Description,Detailed Steps,Expected Result
TC_Installation_033,Verify credit approval blocking message displays when credit approval is pending,Test validates that when credit approval is pending a blocking message is displayed preventing installation process from starting.,"Prerequisites: User is logged in and navigated to installation page. 1. Wait for page to load: await page.waitForTimeout(2000) 2. Check if credit blocking message is visible: const creditBlockingMessage = page.getByTestId('credit-approval-pending-container') 3. Verify blocking message container is visible: await expect(creditBlockingMessage).toBeVisible() 4. Verify message text 'installation process can start after credit approval' is visible: await expect(page.getByTestId('installation-process-can-start-after-credit-approval')).toBeVisible() 5. Verify credit status text element is visible: await expect(page.getByTestId('credit-status-text')).toBeVisible() 6. Verify 'Go Back to Credit Approval' button is visible: await expect(page.getByTestId('go-back-to-credit-approval-button')).toBeVisible()","Credit approval pending message is displayed with all required elements (blocking message, status text, go back button) preventing installation process from starting."
TC_Installation_034_1,Verify 'Go Back to Credit Approval' button navigates correctly,Test validates that clicking the 'Go Back to Credit Approval' button navigates user to the credit approval page.,"Prerequisites: User is on installation page with credit approval pending. 1. Locate the 'Go Back to Credit Approval' button: const goBackButton = page.getByTestId('go-back-to-credit-approval-button') 2. Wait for button to be visible: await goBackButton.isVisible({ timeout: 3000 }) 3. Click the go back button: await goBackButton.click() 4. Verify navigation to credit approval page: await expect(page).toHaveURL(/.*creditApproval.*/, { timeout: 5000 })","User is successfully navigated to the credit approval page (URL contains 'creditApproval')"
TC_Installation_034_2,Fill the credit approval and approve it,Test validates the complete credit approval workflow including filling loan details and mobile verification with OTP.,"Prerequisites: User is on credit approval page. 1. Fill DP Amount: await page.getByTestId('dp-amount-input').fill('10000') and verify: await expect(dpAmountField).toHaveValue('10000') 2. Fill Loan Amount: await page.getByTestId('loan-amount-input').fill('10000') and verify 3. Fill EMI Amount: await page.getByTestId('emi-amount-input').fill('1000') and verify 4. Fill EMI Duration: await page.getByTestId('emi-duration-input').fill('12') and verify 5. Click Save EMI button: await page.getByTestId('save-emi-button').click() 6. Wait for save: await page.waitForTimeout(1000) 7. Verify mobile verify button is visible: await expect(page.getByTestId('mobile-verify-button')).toBeVisible() 8. Click mobile verify button to send OTP: await mobileVerifyButton.click() 9. Wait for OTP modal: await expect(page.getByTestId('otp-modal')).toBeVisible({ timeout: 1000 }) 10. Wait for OTP toast: await expect(page.locator('#credit-approval-otp-send-success')).toBeVisible({ timeout: 10000 }) 11. Extract OTP from toast text: const toastText = await toast.locator('.Toastify__toast-body div:last-child').textContent() 12. Extract 6-digit OTP using extractOTPFromText() helper function 13. Fill OTP in modal: await page.getByTestId('otp-input').fill(otp) 14. Click verify OTP button: await page.getByTestId('verify-otp-button').click() 15. Wait for modal to close: await expect(otpModal).not.toBeVisible({ timeout: 1000 }) 16. Verify mobile is verified: await expect(mobileVerifyButton).toBeVisible() 17. Click approve application button: await page.getByTestId('approve-application-button').click() 18. Fill approval reason: await page.getByTestId('reason-textarea').fill('Credit approval completed successfully') 19. Submit approval: await page.getByTestId('submit-button').click() 20. Verify navigation back to LOS page: await expect(page).toHaveURL(/.*LOS.*/, { timeout: 5000 }) 21. Search for application again: await page.getByTestId('search-leads-input').fill(applicationId) and press Enter 22. Click installation link again: await page.getByTestId(`installation-link-${applicationId}`).click() 23. Verify navigation to Installation page: await expect(page).toHaveURL(/.*Installation.*/, { timeout: 5000 })","Credit approval workflow completes successfully: All loan details are filled and saved, Mobile OTP verification is completed successfully, Application is approved with reason, User is navigated back to LOS page, Credit approval is complete and installation process can now start (blocking message should not be visible)"
TC_Installation_001,Verify navigation to installation page from LOS home page,Test validates that user can navigate to installation page from LOS home home by clicking the installation column hyperlink.,"Prerequisites: User is logged in on /LOS page and a loan application exists. 1. Navigation is performed in the beforeAll block 2. Verify page loads successfully: await expect(page).toHaveURL(/.*Installation.*/) 3. Verify installation details section is visible: await expect(page.locator('[data-testid=""installations-details-toggle""]')).toBeVisible()",User successfully navigates to installation page and page loads with all required elements visible.
TC_Installation_002,Verify DocNavigation component displays installation status correctly,Test validates that DocNavigation component shows correct installation status and creator information.,"Prerequisites: User is on installation page. 1. Verify document status is displayed: await expect(page.locator('[data-testid=""document-status""]')).toBeVisible() 2. Verify customer name is displayed: await expect(page.locator('[data-testid=""customer-name""]')).toContainText(testData.customerName) 3. Verify creator information is displayed: await expect(page.locator('text=Submitted by')).toBeVisible()",DocNavigation component displays all required information correctly including document status and customer name.
TC_Installation_003,Verify document status is displayed correctly in DocNavigation,Test validates that the document status container in DocNavigation is visible and contains content.,"Prerequisites: User is on installation page. 1. Locate the document status container: const docStatus = page.locator('[data-testid=""document-status""]') 2. Verify status container is visible: await expect(docStatus).toBeVisible() 3. Verify status container is not empty: await expect(docStatus).not.toBeEmpty()",The document status container is visible and displays the current application status.
TC_Installation_004,Verify installations details section can be collapsed and expanded,Test validates that installations details section can be toggled to show/hide content.,"Prerequisites: User is on installation page. 1. Click on installations details toggle to collapse: await page.click('[data-testid=""installations-details-toggle""]') 2. Verify section is collapsed but header visible: await expect(page.locator('text=Installations Details')).toBeVisible() 3. Click toggle again to expand: await page.click('[data-testid=""installations-details-toggle""]') 4. Verify section is expanded and content is visible: await expect(page.locator('text=Technician')).toBeVisible()",Installations details section toggles correctly between collapsed and expanded states.
TC_Installation_005,Verify technician section displays core modules correctly,Test validates that the Technician section is visible and displays all core modules.,"Prerequisites: User is on installation page with expanded installations details. 1. Verify technician section is visible: await expect(page.locator('text=Technician')).toBeVisible() 2. Verify technician dropdown is present: await expect(page.locator('[data-testid=""technician-select""]')).toBeVisible() 3. Verify ProductSelector component is visible (check Product Type label): await expect(page.locator('text=Product Type')).toBeVisible() 4. Verify Installations Details label is visible: await expect(page.locator('text=Installations Details')).toBeVisible()",Technician section displays all core modules correctly including dropdown and product selector.
TC_Installation_006,Verify form fields are disabled IF status is not PENDING,Test validates that all relevant form fields are disabled when the installation status is anything other than PENDING. If status is PENDING fields should be enabled.,"Prerequisites: User is on installation page. 1. Wait for initial data load: await page.waitForTimeout(2000) 2. Get document status label: const statusDisplayLocator = page.locator('[data-testid=""document-status-label""]') 3. Wait for status element to be visible: await statusDisplayLocator.waitFor({ state: 'visible', timeout: 10000 }) 4. Get installation status text: const installationStatus = await statusDisplayLocator.textContent() 5. Normalize status: const normalizedStatus = installationStatus.trim().toUpperCase() 6. IF normalizedStatus is NOT 'PENDING': Verify technician dropdown is disabled: await expect(page.locator('[data-testid=""technician-select""]')).toBeDisabled() 7. Verify product selectors are disabled: await expect(page.locator('[data-testid^=""product-select-""]').first()).toBeDisabled() 8. Verify serial number inputs are disabled: await expect(page.locator('[data-testid^=""serial-number-input-""]').first()).toBeDisabled() 9. Verify additional details inputs are disabled: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toBeDisabled() 10. Verify Save button is disabled: await expect(page.locator('[data-testid=""save-products-button""]')).toBeDisabled() 11. ELSE IF normalizedStatus is 'PENDING': Verify technician dropdown is enabled: await expect(page.locator('[data-testid=""technician-select""]')).toBeEnabled()",Form fields are correctly disabled/enabled based on the application status (disabled if not PENDING enabled if PENDING).
TC_Installation_007,Verify technician dropdown is populated with valid options when enabled,Test validates that API call successfully fetches technician data and the dropdown is populated with valid options.,"Prerequisites: User is on installation page with PENDING status or Admin role. 1. Wait for technician dropdown to load: await page.waitForSelector('[data-testid=""technician-select""]') 2. Get all options: const options = page.locator('[data-testid=""technician-select""] option') 3. Get option count: const optionCount = await options.count() 4. Verify dropdown has options: expect(optionCount).toBeGreaterThan(0) 5. Verify first option is not disabled: await expect(options.first()).not.toHaveAttribute('disabled') 6. Get first option text: const firstOptionText = await options.first().textContent() 7. Verify technician data format includes mobile in parentheses: expect(firstOptionText).toContain('(')",Technician dropdown is populated with valid options including formatted data with mobile numbers in parentheses.
TC_Installation_008,Verify complete workflow: select first entries and save with success notification,Test validates that selecting first available entries in all dropdowns entering serials and saving shows success notification.,"Prerequisites: User is on installation page with PENDING status or Admin role. 1. Select first technician: const technicianSelect = page.locator('[data-testid=""technician-select""]') then const firstOptionValue = await technicianSelect.locator('option').nth(1).getAttribute('value') then if(firstOptionValue) await technicianSelect.selectOption(firstOptionValue) 2. Get all product selectors: const productSelectors = page.locator('[data-testid^=""product-select-""]') 3. Loop through product selectors and select first option: for each selector get nth(1) option value and selectOption 4. Get all serial inputs: const serialInputs = page.locator('[data-testid^=""serial-number-input-""]') 5. Loop through serial inputs: for each input if enabled fill with 'TEST123' 6. Click save button: await page.click('[data-testid=""save-products-button""]') 7. Wait for toast to appear: const toast = page.locator('#installation-details-saved-success') 8. Verify toast is visible: await expect(toast).toBeVisible({ timeout: 10000 }) 9. Verify toast message: await expect(toast.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation details updated successfully')","Complete workflow executes successfully with all fields filled and 'Installation details updated successfully' toast notification displayed."
TC_Installation_009,Verify Additional Details section visibility and loading state,Test validates that Additional Details section displays correctly with loading state when data is being fetched.,"Prerequisites: User is on installation page. 1. Verify Additional Details section is visible: await expect(page.locator('text=Additional Details')).toBeVisible() 2. Verify section header text: await expect(page.locator('text=Additional Details')).toHaveText('Additional Details') 3. Get loading spinner locator: const loadingSpinner = page.locator('.ant-spin') 4. Get additional detail body: const additionalDetailBody = page.locator('[data-testid=""additional-detail-body""]') 5. Wait for either loading spinner or body to be visible: await Promise.race([loadingSpinner.waitFor(), additionalDetailBody.waitFor()]) 6. If body is visible verify: await expect(additionalDetailBody).toBeVisible()",Additional Details section is visible with proper loading state handling showing spinner while fetching and body when complete.
