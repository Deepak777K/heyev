Test ID,Title,Description,Detailed Steps,Expected Result
TC_Installation_033,Verify credit approval blocking message displays when credit approval is pending,Test validates that when credit approval is pending a blocking message is displayed preventing installation process from starting.,"Prerequisites: User is logged in and navigated to installation page. 1. Wait for page to load: await page.waitForTimeout(2000) 2. Check if credit blocking message is visible: const creditBlockingMessage = page.getByTestId('credit-approval-pending-container') 3. Verify blocking message container is visible: await expect(creditBlockingMessage).toBeVisible() 4. Verify message text 'installation process can start after credit approval' is visible: await expect(page.getByTestId('installation-process-can-start-after-credit-approval')).toBeVisible() 5. Verify credit status text element is visible: await expect(page.getByTestId('credit-status-text')).toBeVisible() 6. Verify 'Go Back to Credit Approval' button is visible: await expect(page.getByTestId('go-back-to-credit-approval-button')).toBeVisible()","Credit approval pending message is displayed with all required elements (blocking message, status text, go back button) preventing installation process from starting."
TC_Installation_034_1,Verify 'Go Back to Credit Approval' button navigates correctly,Test validates that clicking the 'Go Back to Credit Approval' button navigates user to the credit approval page.,"Prerequisites: User is on installation page with credit approval pending. 1. Locate the 'Go Back to Credit Approval' button: const goBackButton = page.getByTestId('go-back-to-credit-approval-button') 2. Wait for button to be visible: await goBackButton.isVisible({ timeout: 3000 }) 3. Click the go back button: await goBackButton.click() 4. Verify navigation to credit approval page: await expect(page).toHaveURL(/.*creditApproval.*/, { timeout: 5000 })","User is successfully navigated to the credit approval page (URL contains 'creditApproval')"
TC_Installation_034_2,Fill the credit approval and approve it,Test validates the complete credit approval workflow including filling loan details and mobile verification with OTP.,"Prerequisites: User is on credit approval page. 1. Fill DP Amount: await page.getByTestId('dp-amount-input').fill('10000') and verify: await expect(dpAmountField).toHaveValue('10000') 2. Fill Loan Amount: await page.getByTestId('loan-amount-input').fill('10000') and verify 3. Fill EMI Amount: await page.getByTestId('emi-amount-input').fill('1000') and verify 4. Fill EMI Duration: await page.getByTestId('emi-duration-input').fill('12') and verify 5. Click Save EMI button: await page.getByTestId('save-emi-button').click() 6. Wait for save: await page.waitForTimeout(1000) 7. Verify mobile verify button is visible: await expect(page.getByTestId('mobile-verify-button')).toBeVisible() 8. Click mobile verify button to send OTP: await mobileVerifyButton.click() 9. Wait for OTP modal: await expect(page.getByTestId('otp-modal')).toBeVisible({ timeout: 1000 }) 10. Wait for OTP toast: await expect(page.locator('#credit-approval-otp-send-success')).toBeVisible({ timeout: 10000 }) 11. Extract OTP from toast text: const toastText = await toast.locator('.Toastify__toast-body div:last-child').textContent() 12. Extract 6-digit OTP using extractOTPFromText() helper function 13. Fill OTP in modal: await page.getByTestId('otp-input').fill(otp) 14. Click verify OTP button: await page.getByTestId('verify-otp-button').click() 15. Wait for modal to close: await expect(otpModal).not.toBeVisible({ timeout: 1000 }) 16. Verify mobile is verified: await expect(mobileVerifyButton).toBeVisible() 17. Click approve application button: await page.getByTestId('approve-application-button').click() 18. Fill approval reason: await page.getByTestId('reason-textarea').fill('Credit approval completed successfully') 19. Submit approval: await page.getByTestId('submit-button').click() 20. Verify navigation back to LOS page: await expect(page).toHaveURL(/.*LOS.*/, { timeout: 5000 }) 21. Search for application again: await page.getByTestId('search-leads-input').fill(applicationId) and press Enter 22. Click installation link again: await page.getByTestId(`installation-link-${applicationId}`).click() 23. Verify navigation to Installation page: await expect(page).toHaveURL(/.*Installation.*/, { timeout: 5000 })","Credit approval workflow completes successfully: All loan details are filled and saved, Mobile OTP verification is completed successfully, Application is approved with reason, User is navigated back to LOS page, Credit approval is complete and installation process can now start (blocking message should not be visible)"
TC_Installation_001,Verify navigation to installation page from LOS home page,Test validates that user can navigate to installation page from LOS home home by clicking the installation column hyperlink.,"Prerequisites: User is logged in on /LOS page and a loan application exists. 1. Navigation is performed in the beforeAll block 2. Verify page loads successfully: await expect(page).toHaveURL(/.*Installation.*/) 3. Verify installation details section is visible: await expect(page.locator('[data-testid=""installations-details-toggle""]')).toBeVisible()",User successfully navigates to installation page and page loads with all required elements visible.
TC_Installation_002,Verify DocNavigation component displays installation status correctly,Test validates that DocNavigation component shows correct installation status and creator information.,"Prerequisites: User is on installation page. 1. Verify document status is displayed: await expect(page.locator('[data-testid=""document-status""]')).toBeVisible() 2. Verify customer name is displayed: await expect(page.locator('[data-testid=""customer-name""]')).toContainText(testData.customerName) 3. Verify creator information is displayed: await expect(page.locator('text=Submitted by')).toBeVisible()",DocNavigation component displays all required information correctly including document status and customer name.
TC_Installation_003,Verify document status is displayed correctly in DocNavigation,Test validates that the document status container in DocNavigation is visible and contains content.,"Prerequisites: User is on installation page. 1. Locate the document status container: const docStatus = page.locator('[data-testid=""document-status""]') 2. Verify status container is visible: await expect(docStatus).toBeVisible() 3. Verify status container is not empty: await expect(docStatus).not.toBeEmpty()",The document status container is visible and displays the current application status.
TC_Installation_004,Verify installations details section can be collapsed and expanded,Test validates that installations details section can be toggled to show/hide content.,"Prerequisites: User is on installation page. 1. Click on installations details toggle to collapse: await page.click('[data-testid=""installations-details-toggle""]') 2. Verify section is collapsed but header visible: await expect(page.locator('text=Installations Details')).toBeVisible() 3. Click toggle again to expand: await page.click('[data-testid=""installations-details-toggle""]') 4. Verify section is expanded and content is visible: await expect(page.locator('text=Technician')).toBeVisible()",Installations details section toggles correctly between collapsed and expanded states.
TC_Installation_005,Verify technician section displays core modules correctly,Test validates that the Technician section is visible and displays all core modules.,"Prerequisites: User is on installation page with expanded installations details. 1. Verify technician section is visible: await expect(page.locator('text=Technician')).toBeVisible() 2. Verify technician dropdown is present: await expect(page.locator('[data-testid=""technician-select""]')).toBeVisible() 3. Verify ProductSelector component is visible (check Product Type label): await expect(page.locator('text=Product Type')).toBeVisible() 4. Verify Installations Details label is visible: await expect(page.locator('text=Installations Details')).toBeVisible()",Technician section displays all core modules correctly including dropdown and product selector.
TC_Installation_006,Verify form fields are disabled IF status is not PENDING,Test validates that all relevant form fields are disabled when the installation status is anything other than PENDING. If status is PENDING fields should be enabled.,"Prerequisites: User is on installation page. 1. Wait for initial data load: await page.waitForTimeout(2000) 2. Get document status label: const statusDisplayLocator = page.locator('[data-testid=""document-status-label""]') 3. Wait for status element to be visible: await statusDisplayLocator.waitFor({ state: 'visible', timeout: 10000 }) 4. Get installation status text: const installationStatus = await statusDisplayLocator.textContent() 5. Normalize status: const normalizedStatus = installationStatus.trim().toUpperCase() 6. IF normalizedStatus is NOT 'PENDING': Verify technician dropdown is disabled: await expect(page.locator('[data-testid=""technician-select""]')).toBeDisabled() 7. Verify product selectors are disabled: await expect(page.locator('[data-testid^=""product-select-""]').first()).toBeDisabled() 8. Verify serial number inputs are disabled: await expect(page.locator('[data-testid^=""serial-number-input-""]').first()).toBeDisabled() 9. Verify additional details inputs are disabled: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toBeDisabled() 10. Verify Save button is disabled: await expect(page.locator('[data-testid=""save-products-button""]')).toBeDisabled() 11. ELSE IF normalizedStatus is 'PENDING': Verify technician dropdown is enabled: await expect(page.locator('[data-testid=""technician-select""]')).toBeEnabled()",Form fields are correctly disabled/enabled based on the application status (disabled if not PENDING enabled if PENDING).
TC_Installation_007,Verify technician dropdown is populated with valid options when enabled,Test validates that API call successfully fetches technician data and the dropdown is populated with valid options.,"Prerequisites: User is on installation page with PENDING status or Admin role. 1. Wait for technician dropdown to load: await page.waitForSelector('[data-testid=""technician-select""]') 2. Get all options: const options = page.locator('[data-testid=""technician-select""] option') 3. Get option count: const optionCount = await options.count() 4. Verify dropdown has options: expect(optionCount).toBeGreaterThan(0) 5. Verify first option is not disabled: await expect(options.first()).not.toHaveAttribute('disabled') 6. Get first option text: const firstOptionText = await options.first().textContent() 7. Verify technician data format includes mobile in parentheses: expect(firstOptionText).toContain('(')",Technician dropdown is populated with valid options including formatted data with mobile numbers in parentheses.
TC_Installation_008,Verify complete workflow: select first entries and save with success notification,Test validates that selecting first available entries in all dropdowns entering serials and saving shows success notification.,"Prerequisites: User is on installation page with PENDING status or Admin role. 1. Select first technician: const technicianSelect = page.locator('[data-testid=""technician-select""]') then const firstOptionValue = await technicianSelect.locator('option').nth(1).getAttribute('value') then if(firstOptionValue) await technicianSelect.selectOption(firstOptionValue) 2. Get all product selectors: const productSelectors = page.locator('[data-testid^=""product-select-""]') 3. Loop through product selectors and select first option: for each selector get nth(1) option value and selectOption 4. Get all serial inputs: const serialInputs = page.locator('[data-testid^=""serial-number-input-""]') 5. Loop through serial inputs: for each input if enabled fill with 'TEST123' 6. Click save button: await page.click('[data-testid=""save-products-button""]') 7. Wait for toast to appear: const toast = page.locator('#installation-details-saved-success') 8. Verify toast is visible: await expect(toast).toBeVisible({ timeout: 10000 }) 9. Verify toast message: await expect(toast.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation details updated successfully')","Complete workflow executes successfully with all fields filled and 'Installation details updated successfully' toast notification displayed."
TC_Installation_009,Verify Additional Details section visibility and loading state,Test validates that Additional Details section displays correctly with loading state when data is being fetched.,"Prerequisites: User is on installation page. 1. Verify Additional Details section is visible: await expect(page.locator('text=Additional Details')).toBeVisible() 2. Verify section header text: await expect(page.locator('text=Additional Details')).toHaveText('Additional Details') 3. Get loading spinner locator: const loadingSpinner = page.locator('.ant-spin') 4. Get additional detail body: const additionalDetailBody = page.locator('[data-testid=""additional-detail-body""]') 5. Wait for either loading spinner or body to be visible: await Promise.race([loadingSpinner.waitFor(), additionalDetailBody.waitFor()]) 6. If body is visible verify: await expect(additionalDetailBody).toBeVisible()",Additional Details section is visible with proper loading state handling showing spinner while fetching and body when complete.
TC_Installation_010,Verify Additional Details input fields render and accept valid data,Test validates that dynamic input fields are rendered based on additionalSchema and accept valid alphanumeric input with uppercase conversion.,"Prerequisites: User is on installation page with additional details schema. 1. Wait for additional details section to load: await page.waitForSelector('[data-testid=""additional-detail-body""]', { timeout: 10000 }) 2. Get all additional details inputs: const additionalInputs = page.locator('[data-testid^=""additional-details-input-""]') 3. Get input count: const inputCount = await additionalInputs.count() 4. IF inputCount > 0: Get first input: const firstInput = additionalInputs.first() 5. Enter valid alphanumeric data: await firstInput.fill('TEST123') 6. Verify value: await expect(firstInput).toHaveValue('TEST123') 7. Test uppercase conversion by entering lowercase: await firstInput.fill('test123') 8. Verify converted to uppercase: await expect(firstInput).toHaveValue('TEST123') 9. Verify placeholder text: await expect(firstInput).toHaveAttribute('placeholder', 'Enter Number')",Additional Details input fields render correctly accept valid alphanumeric data and automatically convert to uppercase.
TC_Installation_011,Verify Additional Details input validation and special character removal,Test validates that input fields remove special characters and convert text to uppercase automatically.,"Prerequisites: User is on installation page with additional details inputs enabled. 1. Wait for additional details section: await page.waitForSelector('[data-testid=""additional-detail-body""]', { timeout: 10000 }) 2. Get first input: const firstInput = page.locator('[data-testid^=""additional-details-input-""]').first() 3. Enter input with special characters: await firstInput.fill('test@#$%123!') 4. Verify special characters removed and uppercase: await expect(firstInput).toHaveValue('TEST123') 5. Test mixed case with symbols: await firstInput.fill('TeSt@123#') 6. Verify only alphanumeric uppercase remains: await expect(firstInput).toHaveValue('TEST123') 7. Test only special characters: await firstInput.fill('@#$%!') 8. Verify field is empty: await expect(firstInput).toHaveValue('')",Input fields properly remove special characters and convert text to uppercase leaving only alphanumeric characters.
TC_Installation_012,Verify Additional Details save button functionality and disabled state,Test validates that save button is enabled/disabled based on form state and successfully saves additional details.,"Prerequisites: User is on installation page with additional details. 1. Wait for section load: await page.waitForSelector('[data-testid=""additional-detail-body""]', { timeout: 10000 }) 2. Get save button: const saveButton = page.locator('[data-testid=""save-additional-details-button""]') 3. Verify save button is present: await expect(saveButton).toBeVisible() 4. Get input count: const inputCount = await additionalInputs.count() 5. IF inputs exist: Verify initial disabled state: await expect(saveButton).toBeDisabled() 6. Fill required field: await additionalInputs.first().fill('TEST123') 7. Wait for state change: await page.waitForTimeout(1000) 8. IF save button is enabled: Click save: await saveButton.click() 9. Verify success response or state change: await page.waitForTimeout(2000)",Save button functions correctly with proper enabled/disabled states and successfully saves additional details when form is valid.
TC_Installation_013,Verify Additional Details empty state and field states based on application status,Test validates that Additional Details section shows appropriate empty state and field states enabled/disabled based on actual application status.,"Prerequisites: User is on installation page. 1. Verify section visible: await expect(page.locator('text=Additional Details')).toBeVisible() 2. Get empty state message: const emptyStateMessage = page.locator('text=No additional schema found for this product package.') 3. Get inputs: const additionalInputs = page.locator('[data-testid^=""additional-details-input-""]') 4. Get save button: const saveButton = page.locator('[data-testid=""save-additional-details-button""]') 5. Wait for section load: await page.waitForTimeout(2000) 6. IF empty state visible: Verify message displayed: await expect(emptyStateMessage).toBeVisible() 7. ELSE IF inputs exist: Get status from [data-testid=""document-status-label""] 8. Get status text and normalize: const currentStatus = statusText.trim().toUpperCase() 9. IF status is NOT 'PENDING': Verify fields disabled: await expect(additionalInputs.first()).toBeDisabled() and await expect(saveButton).toBeDisabled() 10. ELSE IF status is 'PENDING': Verify fields enabled: await expect(additionalInputs.first()).toBeEnabled() 11. ELSE check current field states without assumptions",Additional Details section handles empty state correctly and field states match the actual application status (disabled for non-PENDING enabled for PENDING).
TC_Installation_014,Verify Upload Documents section visibility and document cards rendering,Test validates that Upload Documents section displays correctly with all 9 document upload cards rendered in responsive grid layout.,"Prerequisites: User is on installation page. 1. Verify Upload Documents section is visible: await expect(page.locator('[data-testid=""upload-documents-section""]')).toBeVisible() 2. Verify section header: await expect(page.locator('text=Upload Documents')).toBeVisible() 3. Verify all 9 document cards are rendered: const uploadCards = page.locator('[data-testid^=""file-upload-""]') then await expect(uploadCards).toHaveCount(9) 4. Verify specific document types are present: await expect(page.locator('text=Installed Battery Picture')).toBeVisible() 5. await expect(page.locator('text=Charger handed to Customer')).toBeVisible() 6. await expect(page.locator('text=Charger Serial No')).toBeVisible() 7. await expect(page.locator('text=Battery Serial NO')).toBeVisible() 8. await expect(page.locator('text=Working SOC Meter')).toBeVisible() 9. Verify responsive grid layout: await expect(page.locator('.grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-3')).toBeVisible()",Upload Documents section displays all 9 document upload cards in responsive grid layout with correct labels.
TC_Installation_2,Verify DocNavigation component displays installation status and customer name correctly,Test validates that DocNavigation component shows correct installation status and creator information.,"1. Verify document status is displayed: await expect(page.locator('[data-testid=""document-status""]')).toBeVisible() 2. Verify customer name is displayed: await expect(page.locator('[data-testid=""customer-name""]')).toContainText(testData.customerName) 3. Verify creator information is displayed: await expect(page.locator('text=Submitted by')).toBeVisible()",DocNavigation component displays all required information correctly
TC_Installation_3,Verify document status is displayed correctly in DocNavigation,Test validates that the document status container in DocNavigation is visible and contains content (i.e.,"1. Locate the document status container: const docStatus = page.locator('[data-testid=""document-status""]'); 2. Verify status container is visible: await expect(docStatus).toBeVisible() 3. Verify status container is not empty: await expect(docStatus).not.toBeEmpty()",The document status container is visible and displays the current application status.
TC_Installation_4,Verify installations details section can be collapsed and expanded,Test validates that installations details section can be toggled to show/hide content.,"1. Click on installations details toggle to collapse: await page.click('[data-testid=""installations-details-toggle""]') 2. Verify section is collapsed (content not visible): await expect(page.locator('text=Installations Details')).toBeVisible() 3. Click toggle again to expand: await page.click('[data-testid=""installations-details-toggle""]') 4. Verify section is expanded (content is visible): await expect(page.locator('text=Technician')).toBeVisible()",Installations details section toggles correctly between collapsed and expanded states.
TC_Installation_5,Verify technician section displays core modules correctly,Test validates that the Technician section is visible and displays all core modules (Technician dropdown,"1. Verify technician section is visible: await expect(page.locator('text=Technician')).toBeVisible() 2. Verify technician dropdown is present: await expect(page.locator('[data-testid=""technician-select""]')).toBeVisible() 3. Verify ProductSelector element (Product Type label) is visible: await expect(page.locator('text=Product Type')).toBeVisible() 4. Verify main Installations Details label is visible: await expect(page.locator('text=Installations Details')).toBeVisible()",Technician section displays all core modules correctly.
TC_Installation_6_Dynamic,Verify form fields are disabled IF status is not PENDING,"Test validates that all relevant form fields are **disabled** when the installation status is anything other than ""PENDING"". If status is PENDING","1. Get current installation status from [data-testid=""document-status-label""]. 2. IF status is NOT PENDING: Verify technician dropdown is disabled: await expect(page.locator('[data-testid=""technician-select""]')).toBeDisabled() 3. Verify product selectors are disabled: await expect(page.locator('[data-testid^=""product-select-""]').first()).toBeDisabled() 4. Verify Save button is disabled: await expect(page.locator('[data-testid=""save-products-button""]')).toBeDisabled() 5. ELSE (Status is PENDING): Verify technician dropdown is ENABLED: await expect(page.locator('[data-testid=""technician-select""]')).toBeEnabled()",Form fields are correctly disabled/enabled based on the application status (disabled if not PENDING).
TC_Installation_7,Verify technician dropdown is populated with valid options when enabled,Test validates that API call successfully fetches technician data and the dropdown is populated with valid options.,"1. Wait for technician dropdown to load: await page.waitForSelector('[data-testid=""technician-select""]') 2. Verify dropdown has options: const options = page.locator('[data-testid=""technician-select""] option'); await expect(options.count()).toBeGreaterThan(0) 3. Verify first option is not disabled: await expect(options.first()).not.toHaveAttribute('disabled') 4. Verify technician data format: expect(firstOptionText).toContain('(')",Technician dropdown is populated with valid options including formatted data (e.g. mobile number in parentheses).
TC_Installation_8,Verify complete workflow: select first entries and save with success notification,Test validates that selecting first available entries in all dropdowns and entering serials,"1. Select first technician: technicianSelect.selectOption(firstOptionValue) 2. Select first product in each product type: selector.selectOption(firstProductOption) 3. Enter serial numbers: input.fill('TEST123') 4. Click save button: await page.click('[data-testid=""save-products-button""]') 5. Verify success toast: await expect(toast.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation details updated successfully')","Complete workflow executes successfully with a ""Installation details updated successfully"" toast notification."
TC_Installation_9,Verify Additional Details section visibility and loading state,Test validates that Additional Details section displays correctly with loading state when data is being fetched.,"1. Verify Additional Details section is visible: await expect(page.locator('text=Additional Details')).toBeVisible() 2. Verify section header is displayed: await expect(page.locator('text=Additional Details')).toHaveText('Additional Details') 3. If loading state is active: await expect(page.locator('.ant-spin')).toBeVisible() 4. If loading is complete: await expect(page.locator('[data-testid=""additional-detail-body""]')).toBeVisible()",Additional Details section is visible with proper loading state handling.
TC_Installation_10,Verify Additional Details input fields render and accept valid data,Test validates that dynamic input fields are rendered based on additionalSchema and accept valid alphanumeric input.,"1. Verify input fields are rendered: await expect(page.locator('[data-testid^=""additional-details-input-""]')).toHaveCount(Object.keys(additionalSchema).length) 2. Enter valid alphanumeric data: await page.locator('[data-testid^=""additional-details-input-""]').first().fill('TEST123') 3. Verify input accepts only alphanumeric: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toHaveValue('TEST123') 4. Test uppercase conversion: await page.locator('[data-testid^=""additional-details-input-""]').first().fill('test123') 5. Verify value is converted to uppercase: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toHaveValue('TEST123')",Additional Details input fields render correctly and accept valid alphanumeric data with proper formatting.
TC_Installation_11,Verify Additional Details input validation and special character removal,Test validates that input fields remove special characters and convert text to uppercase automatically.,"1. Enter input with special characters: await page.locator('[data-testid^=""additional-details-input-""]').first().fill('test@#$%123!') 2. Verify special characters are removed: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toHaveValue('TEST123') 3. Enter mixed case with symbols: await page.locator('[data-testid^=""additional-details-input-""]').first().fill('TeSt@123#') 4. Verify only alphanumeric uppercase remains: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toHaveValue('TEST123')",Input fields properly remove special characters and convert text to uppercase.
TC_Installation_12,Verify Additional Details save button functionality and disabled state,Test validates that save button is enabled/disabled based on form state and successfully saves additional details.,"1. Verify save button is present: await expect(page.locator('[data-testid=""save-additional-details-button""]')).toBeVisible() 2. Check initial disabled state: await expect(page.locator('[data-testid=""save-additional-details-button""]')).toBeDisabled() 3. Fill required fields: await page.locator('[data-testid^=""additional-details-input-""]').first().fill('TEST123') 4. Verify save button becomes enabled: await expect(page.locator('[data-testid=""save-additional-details-button""]')).toBeEnabled() 5. Click save button: await page.click('[data-testid=""save-additional-details-button""]') 6. Verify success response or state change",Save button functions correctly with proper enabled/disabled states and successfully saves additional details.
TC_Installation_13,Verify Additional Details empty state and field states based on application status,Test validates that Additional Details section shows appropriate empty state and field states (enabled/disabled) based on the actual application status (PENDING vs non-PENDING).,"1. Verify Additional Details section is visible: await expect(page.locator('text=Additional Details')).toBeVisible() 2. If no schema available: await expect(page.locator('text=No additional schema found for this product package.')).toBeVisible() 3. Get current status from [data-testid=""document-status-label""] 4. IF status is PENDING: Verify fields are enabled: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toBeEnabled() 5. IF status is NOT PENDING: Verify fields are disabled: await expect(page.locator('[data-testid^=""additional-details-input-""]').first()).toBeDisabled() 6. ELSE (status unknown): Check current field states without assumptions",Additional Details section handles empty state and field states correctly based on the actual application status.
TC_Installation_14,Verify Upload Documents section visibility and document cards rendering,Test validates that Upload Documents section displays correctly with all 9 document upload cards rendered in responsive grid layout.,"1. Verify Upload Documents section is visible: await expect(page.locator('[data-testid=""upload-documents-section""]')).toBeVisible() 2. Verify section header: await expect(page.locator('text=Upload Documents')).toBeVisible() 3. Verify all 9 document cards are rendered: await expect(page.locator('[data-testid^=""file-upload-""]')).toHaveCount(9) 4. Verify specific document types are present: await expect(page.locator('text=Installed Battery Picture')).toBeVisible() 5. Verify responsive grid layout: await expect(page.locator('.grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-3')).toBeVisible()",Upload Documents section displays all 9 document upload cards in responsive grid layout.
TC_Installation_14_1,Verify file upload for Installed Battery Picture,Test validates that a file can be uploaded for the 'Installed Battery Picture' card and a preview is shown.,"1. Locate the file input for card ID 1. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-1""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Installed Battery Picture' card.
TC_Installation_14_2,Verify file upload for Charger handed to Customer,Test validates that a file can be uploaded for the 'Charger handed to Customer' card and a preview is shown.,"1. Locate the file input for card ID 2. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-2""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Charger handed to Customer' card.
TC_Installation_14_3,Verify file upload for Charger Serial No,Test validates that a file can be uploaded for the 'Charger Serial No' card and a preview is shown.,"1. Locate the file input for card ID 3. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-3""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Charger Serial No' card.
TC_Installation_14_4,Verify file upload for Battery Serial NO,Test validates that a file can be uploaded for the 'Battery Serial NO' card and a preview is shown.,"1. Locate the file input for card ID 4. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-4""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Battery Serial NO' card.
TC_Installation_14_5,Verify file upload for Working SOC Meter,Test validates that a file can be uploaded for the 'Working SOC Meter' card and a preview is shown.,"1. Locate the file input for card ID 5. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-5""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Working SOC Meter' card.
TC_Installation_14_6,Verify file upload for Wire installation from bottom of Erickshaw,Test validates that a file can be uploaded for the 'Wire installation from bottom of Erickshaw' card and a preview is shown.,"1. Locate the file input for card ID 6. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-6""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Wire installation from bottom of Erickshaw' card.
TC_Installation_14_7,Verify file upload for Erickshaw Controller and Motor Pictures,Test validates that a file can be uploaded for the 'Erickshaw Controller and Motor Pictures' card and a preview is shown.,"1. Locate the file input for card ID 7. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-7""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Erickshaw Controller and Motor Pictures' card.
TC_Installation_14_8,Verify file upload for Erickshaw VIN No,Test validates that a file can be uploaded for the 'Erickshaw VIN No' card and a preview is shown.,"1. Locate the file input for card ID 8. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-8""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Erickshaw VIN No' card.
TC_Installation_14_9,Verify file upload for Erickshaw Registration no,Test validates that a file can be uploaded for the 'Erickshaw Registration no' card and a preview is shown.,"1. Locate the file input for card ID 9. 2. Upload 'PAN_CARD.jpg'. 3. Verify the image preview is visible: await expect(page.locator('[data-testid=""image-preview-file-upload-9""]')).toBeVisible()",File is uploaded successfully and a preview is displayed for the 'Erickshaw Registration no' card.
TC_Installation_15,Verify footer actions section visibility and button states,Test validates that the footer actions section displays correctly with Approve and Reject buttons showing appropriate states based on installation status.,"1. Verify footer actions section is visible: await expect(page.locator('[data-testid=""installation-footer-actions""]')).toBeVisible() 2. Verify Approve button is present: await expect(page.locator('[data-testid=""approve-button""]')).toBeVisible() 3. Verify Reject button is present: await expect(page.locator('[data-testid=""reject-button""]')).toBeVisible() 4. Check button states based on installation status: await expect(page.locator('[data-testid=""approve-button""]')).toHaveAttribute('disabled') OR await expect(page.locator('[data-testid=""approve-button""]')).not.toHaveAttribute('disabled')",
TC_Installation_16,Verify Approve button disabled state when status is SUCCESS,Test validates that the Approve button is disabled when installation status is SUCCESS.,"1. Verify installation status is SUCCESS: await expect(page.locator('[data-testid=""document-status-label""]')).toContainText('SUCCESS') 2. Verify Approve button is disabled: await expect(page.locator('[data-testid=""approve-button""]')).toBeDisabled() 3. Verify button has disabled styling: await expect(page.locator('[data-testid=""approve-button""]')).toHaveClass(/bg-gray-300/) 4. Verify button text is still visible: await expect(page.locator('[data-testid=""approve-button""]')).toContainText('Approve')",Approve button is correctly disabled when status is SUCCESS.
TC_Installation_17,Verify Reject button disabled state when status is REJECTED,Test validates that the Reject button is disabled when installation status is REJECTED.,"1. Verify installation status is REJECTED: await expect(page.locator('[data-testid=""document-status-label""]')).toContainText('REJECTED') 2. Verify Reject button is disabled: await expect(page.locator('[data-testid=""reject-button""]')).toBeDisabled() 3. Verify button has disabled styling: await expect(page.locator('[data-testid=""reject-button""]')).toHaveClass(/bg-gray-300/) 4. Verify button text is still visible: await expect(page.locator('[data-testid=""reject-button""]')).toContainText('Reject')",Reject button is correctly disabled when status is REJECTED.
TC_Installation_18,Verify Approve button click opens approval modal,Test validates that clicking the Approve button opens the approval modal with correct content.,"1. Click Approve button: await page.click('[data-testid=""approve-button""]') 2. Verify modal is visible: await expect(page.locator('.fixed.inset-0')).toBeVisible() 3. Verify modal title: await expect(page.locator('text=Approval Reason')).toBeVisible() 4. Verify optional text is shown: await expect(page.locator('text=(optional)')).toBeVisible() 5. Verify textarea is present: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toBeVisible() 6. Verify submit button is present: await expect(page.locator('[data-testid=""modal-submit-button""]')).toBeVisible() 7. Verify close button is present: await expect(page.locator('[data-testid=""modal-close-button""]')).toBeVisible()",Approval modal opens correctly with all required elements.
TC_Installation_19,Verify Reject button click opens rejection modal,Test validates that clicking the Reject button opens the rejection modal with correct content.,"1. Click Reject button: await page.click('[data-testid=""reject-button""]') 2. Verify modal is visible: await expect(page.locator('.fixed.inset-0')).toBeVisible() 3. Verify modal title: await expect(page.locator('text=Rejection Reason')).toBeVisible() 4. Verify no optional text is shown: await expect(page.locator('text=(optional)')).not.toBeVisible() 5. Verify textarea is present: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toBeVisible() 6. Verify submit button is present: await expect(page.locator('[data-testid=""modal-submit-button""]')).toBeVisible() 7. Verify close button is present: await expect(page.locator('[data-testid=""modal-close-button""]')).toBeVisible()",Rejection modal opens correctly with all required elements.
TC_Installation_20,Verify modal textarea functionality and character limit,Test validates that the modal textarea accepts input and enforces the 200 character limit.,"1. Verify textarea is empty initially: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toHaveValue('') 2. Enter text: await page.locator('[data-testid=""modal-reason-textarea""]').fill('Test reason for approval') 3. Verify text is entered: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toHaveValue('Test reason for approval') 4. Verify character counter updates: await expect(page.locator('text=characters remaining')).toBeVisible() 5. Test character limit: await page.locator('[data-testid=""modal-reason-textarea""]').fill('a'.repeat(201)) 6. Verify text is truncated to 200 characters: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toHaveValue('a'.repeat(200))",Modal textarea functions correctly with character limit enforcement.
TC_Installation_21,Verify approval submission with valid reason,Test validates that submitting the approval modal with a valid reason processes successfully.,"1. Enter approval reason: await page.locator('[data-testid=""modal-reason-textarea""]').fill('Installation completed successfully') 2. Click Submit button: await page.click('[data-testid=""modal-submit-button""]') 3. Verify modal closes: await expect(page.locator('.fixed.inset-0')).not.toBeVisible() 4. Verify success toast appears: await expect(page.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation approved successfully!') 5. Verify navigation to LOS page: await expect(page).toHaveURL(/.*LOS.*/)",Approval submission processes successfully with valid reason.
TC_Installation_22,Verify rejection submission with valid reason,Test validates that submitting the rejection modal with a valid reason processes successfully.,"1. Enter rejection reason: await page.locator('[data-testid=""modal-reason-textarea""]').fill('Installation incomplete - missing documents') 2. Click Submit button: await page.click('[data-testid=""modal-submit-button""]') 3. Verify modal closes: await expect(page.locator('.fixed.inset-0')).not.toBeVisible() 4. Verify success toast appears: await expect(page.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation rejected successfully!') 5. Verify navigation to LOS page: await expect(page).toHaveURL(/.*LOS.*/)",Rejection submission processes successfully with valid reason.
TC_Installation_23,Verify approval submission with empty reason (optional),Test validates that submitting approval with empty reason is allowed since it's optional.,"1. Leave textarea empty: await expect(page.locator('[data-testid=""modal-reason-textarea""]')).toHaveValue('') 2. Click Submit button: await page.click('[data-testid=""modal-submit-button""]') 3. Verify modal closes: await expect(page.locator('.fixed.inset-0')).not.toBeVisible() 4. Verify success toast appears: await expect(page.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation approved successfully!') 5. Verify navigation to LOS page: await expect(page).toHaveURL(/.*LOS.*/)",Approval submission with empty reason processes successfully.
TC_Installation_24,Verify Additional Details save disables button after success,Ensures the Additional Details save workflow disables the Save button again once data is persisted preventing duplicate submissions.,"1. Stub POST /api/install/updateInstallation to return success. 2. Fill any Additional Details input with 'TEST123'. 3. Click Save Additional Details button. 4. Verify success toast appears. 5. Confirm Save button becomes disabled again.",Additional details save toast appears and button re-disables after success.
TC_Installation_25,Verify Additional Details save failure shows toast and keeps button enabled,Validates error handling when the Additional Details save API returns an error and the user can retry.,"1. Stub POST /api/install/updateInstallation to return 500 with error message. 2. Fill any Additional Details input with 'TEST123'. 3. Click Save Additional Details button. 4. Verify error toast message. 5. Confirm Save button remains enabled for retry.",Error toast appears and Save button stays enabled after failure.
TC_Installation_26,Verify invalid file type shows error toast and no preview,Confirms non-image or non-PDF uploads are rejected with a validation toast and no preview rendered.,"1. Trigger file chooser for Installed Battery Picture card. 2. Select file with invalid mime type (e.g. EXE). 3. Verify error toast states only image or PDF allowed. 4. Confirm preview element is not rendered for the card.",Invalid file upload displays toast and leaves card without a preview.
TC_Installation_27,Verify oversized file upload is rejected with error toast,Ensures documents larger than 5MB are rejected with proper error messaging and no preview update.,"1. Trigger file chooser for Charger handed to Customer card. 2. Select file exceeding 5MB. 3. Verify toast shows 'File size exceeds 5MB limit.' 4. Confirm no preview is rendered for the card.",Oversized uploads display size error toast and no preview is shown.
TC_Installation_28,Verify upload API failure removes preview and shows error toast,Validates that temporary preview is removed and error toast shown when upload API fails.,"1. Stub POST /api/install/uploadinstallationdocs to return 500. 2. Upload valid image for Charger Serial No card. 3. Confirm failure toast text matches API message. 4. Verify preview element is removed from the card.",Upload failure toast appears and preview is cleared after API error.
TC_Installation_29,Verify rejection reason is mandatory before submitting modal,Ensures rejection cannot be submitted without a reason and toast feedback keeps modal open.,"1. Click Reject button to open modal. 2. Leave textarea empty. 3. Click Submit. 4. Verify toast says 'Rejection reason is mandatory.' 5. Confirm modal remains visible.",Mandatory rejection reason toast appears and modal stays open.
TC_Installation_30,Verify approve API failure shows error toast and stays on page,Confirms approval API failure surfaces toast and prevents navigation away from installation page.,"1. Stub POST /api/install/approveinstallation to return 500. 2. Click Approve button. 3. Submit modal. 4. Verify error toast states approval failed. 5. Confirm URL still matches installation page.",Approval failure toast appears and user remains on installation page.
TC_Installation_31,Verify Additional Details fetch failure shows toast and clears fields,Validates schema fetch failure displays toast feedback and Additional Details inputs reset to empty state.,"1. Stub GET /api/install/getAdditionalDetails to return 500 with error message. 2. Load Installation page. 3. Verify error toast text matches API message. 4. Confirm Additional Details inputs are absent or cleared.",Additional Details fetch failure shows toast and section renders without inputs.
TC_Installation_32,Verify serial number unlock edit and save flow,Ensures serial number fields can be unlocked, edited, and saved with payload containing the updated serial number.,"1. Stub POST /api/install/updateinstallationdetails to capture payload and return success. 2. Navigate to Installation page when status is PENDING. 3. Click first unlock button: await page.locator('[data-testid^=""toggle-edit-serial-button-""]').first().click() 4. Enter serial value: await page.locator('[data-testid^=""serial-number-input-""]').first().fill('SN12345') 5. Click Save products button: await page.click('[data-testid=""save-products-button""]') 6. Assert toast text: await expect(page.locator('.Toastify__toast-body div:last-child')).toHaveText('Installation details saved successfully!') 7. Verify captured payload.serialNumbers includes serial 'SN12345'",Positive
